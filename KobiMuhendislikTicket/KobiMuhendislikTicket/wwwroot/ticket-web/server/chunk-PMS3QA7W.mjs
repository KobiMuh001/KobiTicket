import './polyfills.server.mjs';
import{a as G}from"./chunk-JUI2OVXC.mjs";import{b as N,c as j,f as Q,r as K}from"./chunk-EMYJKDQA.mjs";import"./chunk-YV36YJ22.mjs";import{k as I,n as D}from"./chunk-4L5IZ2U2.mjs";import{$b as L,Ma as g,Oa as f,Ta as u,V as h,Wa as P,Xa as y,Ya as t,Za as n,_a as p,ba as M,bb as O,ca as b,cb as _,cc as V,da as m,db as c,dc as B,ea as C,ib as a,jb as d,nb as k,ob as w,pb as S,rb as A,sb as E,tb as F,ub as T,vb as z,ya as s,za as v}from"./chunk-M6NPGADT.mjs";import"./chunk-VVCT4QZE.mjs";var q=(i,l)=>l.id,R=()=>["/customer/tickets/new"],W=i=>({assetId:i});function H(i,l){i&1&&(t(0,"div",8),p(1,"div",9),t(2,"p"),a(3,"Y\xFCkleniyor..."),n()())}function $(i,l){i&1&&(t(0,"h3"),a(1,"Kay\u0131tl\u0131 Varl\u0131k Yok"),n(),t(2,"p"),a(3,"Firman\u0131za ait hen\xFCz kay\u0131tl\u0131 varl\u0131k bulunmamaktad\u0131r."),n())}function U(i,l){if(i&1){let e=O();t(0,"h3"),a(1,"Sonu\xE7 Bulunamad\u0131"),n(),t(2,"p"),a(3,"Arama kriterlerinize uygun varl\u0131k bulunamad\u0131."),n(),t(4,"button",14),_("click",function(){M(e);let o=c(2);return o.searchQuery="",b(o.applyFilter())}),a(5,"Aramay\u0131 Temizle"),n()}}function J(i,l){if(i&1&&(t(0,"div",10),m(),t(1,"svg",11),p(2,"rect",12)(3,"path",13),n(),g(4,$,4,0)(5,U,6,0),n()),i&2){let e=c();s(4),u(4,e.assets.length===0?4:5)}}function X(i,l){if(i&1&&(t(0,"div",23)(1,"span",24),a(2,"A\xE7\u0131klama:"),n(),t(3,"span",32),a(4),n()()),i&2){let e=c().$implicit;s(4),d(e.description)}}function Z(i,l){if(i&1&&(t(0,"div",23)(1,"span",24),a(2,"Kay\u0131t Tarihi:"),n(),t(3,"span",25),a(4),T(5,"date"),n()()),i&2){let e=c().$implicit;s(4),d(z(5,1,e.createdAt,"dd.MM.yyyy"))}}function ee(i,l){if(i&1&&(t(0,"div",16)(1,"div",17),m(),t(2,"svg",18),p(3,"rect",12)(4,"path",13),n()(),C(),t(5,"div",19)(6,"h3",20),a(7),n(),t(8,"span",21),a(9),n(),t(10,"div",22)(11,"div",23)(12,"span",24),a(13,"Cihaz Ad\u0131:"),n(),t(14,"span",25),a(15),n()(),t(16,"div",23)(17,"span",24),a(18,"Seri No:"),n(),t(19,"span",25),a(20),n()(),g(21,X,5,1,"div",23)(22,Z,6,4,"div",23),n()(),t(23,"div",26)(24,"a",27),m(),t(25,"svg",28),p(26,"circle",29)(27,"line",30)(28,"line",31),n(),a(29," Destek Talebi Olu\u015Ftur "),n()()()),i&2){let e=l.$implicit,r=c(2);s(7),d(e.name),s(),f("ngClass",r.getStatusClass(e.status)),s(),d(e.status),s(6),d(e.name),s(5),d(e.serialNumber),s(),u(21,e.description?21:-1),s(),u(22,e.createdAt?22:-1),s(2),f("routerLink",E(9,R))("queryParams",F(10,W,e.id))}}function te(i,l){if(i&1&&(t(0,"div",15),P(1,ee,30,12,"div",16,q),n()),i&2){let e=c();s(),y(e.filteredAssets)}}var de=(()=>{class i{constructor(e){this.assetService=e,this.assets=[],this.filteredAssets=[],this.isLoading=!0,this.searchQuery=""}ngOnInit(){this.loadAssets()}loadAssets(){this.isLoading=!0,this.assetService.getMyAssets().subscribe({next:e=>{let r=e.data||e||[];this.assets=r.map(o=>({id:o.id,name:o.productName||o.name,description:o.description,serialNumber:o.serialNumber,status:this.getStatusText(o.status),createdAt:o.createdDate||o.createdAt})),this.applyFilter(),this.isLoading=!1},error:()=>{this.isLoading=!1}})}applyFilter(){if(!this.searchQuery)this.filteredAssets=[...this.assets];else{let e=this.searchQuery.toLowerCase();this.filteredAssets=this.assets.filter(r=>r.name.toLowerCase().includes(e)||r.serialNumber.toLowerCase().includes(e)||r.description?.toLowerCase().includes(e))}}getStatusText(e){return{Active:"Aktif",Inactive:"Pasif",UnderMaintenance:"Bak\u0131mda",Retired:"Kullan\u0131m D\u0131\u015F\u0131",0:"Aktif",1:"Pasif",2:"Bak\u0131mda",3:"Kullan\u0131m D\u0131\u015F\u0131"}[e]||e.toString()}getStatusClass(e){return{Aktif:"status-active",Pasif:"status-inactive",Bak\u0131mda:"status-maintenance","Kullan\u0131m D\u0131\u015F\u0131":"status-retired"}[e]||""}static{this.\u0275fac=function(r){return new(r||i)(v(G))}}static{this.\u0275cmp=h({type:i,selectors:[["app-customer-assets"]],standalone:!0,features:[A],decls:15,vars:2,consts:[[1,"customer-assets"],[1,"page-header"],[1,"search-card"],[1,"search-box"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","Varl\u0131k ara (isim, seri no)...",3,"ngModelChange","ngModel"],[1,"loading-container"],[1,"loading-spinner"],[1,"empty-state"],["width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["x","2","y","7","width","20","height","14","rx","2","ry","2"],["d","M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"],[1,"btn-clear",3,"click"],[1,"assets-grid"],[1,"asset-card"],[1,"asset-icon"],["width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"asset-content"],[1,"asset-name"],[1,"badge",3,"ngClass"],[1,"asset-details"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"asset-actions"],[1,"btn-create-ticket",3,"routerLink","queryParams"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","16"],["x1","8","y1","12","x2","16","y2","12"],[1,"value","description"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Varl\u0131klar\u0131m"),n(),t(4,"p"),a(5,"Firman\u0131za ait kay\u0131tl\u0131 varl\u0131klar\u0131 buradan g\xF6r\xFCnt\xFCleyebilirsiniz."),n()(),t(6,"div",2)(7,"div",3),m(),t(8,"svg",4),p(9,"circle",5)(10,"line",6),n(),C(),t(11,"input",7),S("ngModelChange",function(x){return w(o.searchQuery,x)||(o.searchQuery=x),x}),_("ngModelChange",function(){return o.applyFilter()}),n()()(),g(12,H,4,0,"div",8)(13,J,6,1)(14,te,3,0),n()),r&2&&(s(11),k("ngModel",o.searchQuery),s(),u(12,o.isLoading?12:o.filteredAssets.length===0?13:14))},dependencies:[B,L,V,D,I,K,N,j,Q],styles:[".customer-assets[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:25px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;font-weight:600;color:#1a1a2e;margin:0 0 6px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.search-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin-bottom:25px;box-shadow:0 2px 8px #0000000f}.search-box[_ngcontent-%COMP%]{position:relative;max-width:400px}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#9ca3af;stroke-linecap:round;stroke-linejoin:round}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px 10px 40px;border:2px solid #e5e7eb;border-radius:8px;font-size:14px;transition:all .2s}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0a6847;box-shadow:0 0 0 3px #0a68471a}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;background:#fff;border-radius:12px}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e9ecef;border-top-color:#0a6847;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;color:#6c757d}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#dee2e6;margin-bottom:15px;stroke-linecap:round;stroke-linejoin:round}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#1a1a2e;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:#f3f4f6;color:#374151;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.empty-state[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]:hover{background:#e5e7eb}.assets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}.asset-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f;transition:all .2s;display:flex;flex-direction:column}.asset-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #0000001a;transform:translateY(-2px)}.asset-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#ede9fe,#ddd6fe);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#7c3aed;margin-bottom:15px}.asset-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-linecap:round;stroke-linejoin:round}.asset-content[_ngcontent-%COMP%]{flex:1}.asset-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a1a2e;margin:0 0 10px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;margin-bottom:15px}.status-active[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-inactive[_ngcontent-%COMP%]{background:#e2e3e5;color:#383d41}.status-maintenance[_ngcontent-%COMP%]{background:#fef3cd;color:#856404}.status-retired[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.asset-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#374151}.detail-item[_ngcontent-%COMP%]   .value.description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.asset-actions[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px solid #f1f3f4}.btn-create-ticket[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:10px 15px;background:#f0f9f6;color:#0a6847;border:none;border-radius:8px;font-size:13px;font-weight:500;text-decoration:none;cursor:pointer;transition:all .2s}.btn-create-ticket[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-linecap:round;stroke-linejoin:round}.btn-create-ticket[_ngcontent-%COMP%]:hover{background:#0a6847;color:#fff}@media (max-width: 768px){.assets-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-box[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.asset-card[_ngcontent-%COMP%]{padding:15px}}"]})}}return i})();export{de as CustomerAssetsComponent};
