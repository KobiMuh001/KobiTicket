import './polyfills.server.mjs';
import{a as Y}from"./chunk-WGGGGK64.mjs";import{b as N,c as q,f as Q,r as G}from"./chunk-7OSF6RCL.mjs";import{a as V}from"./chunk-D5QQ2GM6.mjs";import"./chunk-2ZDBELSD.mjs";import{k as j,n as B}from"./chunk-JGHH2ILE.mjs";import{Ab as T,Bb as A,Cb as I,Db as M,Eb as P,Fa as r,Ga as f,Ta as g,Va as _,_a as l,aa as b,bb as O,cb as k,db as n,eb as i,fb as p,ia as y,ib as w,ja as v,jb as h,ka as m,kb as c,kc as z,la as C,nc as D,oc as L,rb as o,sb as u,wb as S,xb as E,yb as F}from"./chunk-5C2672OW.mjs";import"./chunk-VVCT4QZE.mjs";var $=(e,d)=>d.productId,H=()=>["/customer/tickets/new"],R=e=>({productId:e});function K(e,d){e&1&&(n(0,"div",8),p(1,"div",9),n(2,"p"),o(3,"Y\xFCkleniyor..."),i()())}function U(e,d){e&1&&(n(0,"h3"),o(1,"Kay\u0131tl\u0131 \xDCr\xFCn Yok"),i(),n(2,"p"),o(3,"Firman\u0131za ait hen\xFCz kay\u0131tl\u0131 \xFCr\xFCn bulunmamaktad\u0131r."),i())}function J(e,d){if(e&1){let t=w();n(0,"h3"),o(1,"Sonu\xE7 Bulunamad\u0131"),i(),n(2,"p"),o(3,"Arama kriterlerinize uygun \xFCr\xFCn bulunamad\u0131."),i(),n(4,"button",14),h("click",function(){y(t);let a=c(2);return a.searchQuery="",v(a.applyFilter())}),o(5,"Aramay\u0131 Temizle"),i()}}function X(e,d){if(e&1&&(n(0,"div",10),m(),n(1,"svg",11),p(2,"rect",12)(3,"path",13),i(),g(4,U,4,0)(5,J,6,0),i()),e&2){let t=c();r(4),l(4,t.products.length===0?4:5)}}function Z(e,d){if(e&1&&(n(0,"div",23)(1,"span",24),o(2,"A\xE7\u0131klama:"),i(),n(3,"span",32),o(4),i()()),e&2){let t=c().$implicit;r(4),u(t.description)}}function tt(e,d){if(e&1&&(n(0,"div",23)(1,"span",24),o(2,"Sahiplik Tarihi:"),i(),n(3,"span",25),o(4),M(5,"date"),i()()),e&2){let t=c().$implicit;r(4),u(P(5,1,t.acquisitionDate,"dd.MM.yyyy"))}}function et(e,d){if(e&1&&(n(0,"div",23)(1,"span",24),o(2,"Garanti Biti\u015F Tarihi:"),i(),n(3,"span",25),o(4),M(5,"date"),i()()),e&2){let t=c().$implicit;r(4),u(P(5,1,t.warrantyEndDate,"dd.MM.yyyy"))}}function nt(e,d){if(e&1&&(n(0,"div",16)(1,"div",17),m(),n(2,"svg",18),p(3,"rect",12)(4,"path",13),i()(),C(),n(5,"div",19)(6,"h3",20),o(7),i(),n(8,"span",21),o(9,"Aktif"),i(),n(10,"div",22)(11,"div",23)(12,"span",24),o(13,"\xDCr\xFCn Ad\u0131:"),i(),n(14,"span",25),o(15),i()(),g(16,Z,5,1,"div",23)(17,tt,6,4,"div",23)(18,et,6,4,"div",23),i()(),n(19,"div",26)(20,"a",27),m(),n(21,"svg",28),p(22,"circle",29)(23,"line",30)(24,"line",31),i(),o(25," Destek Talebi Olu\u015Ftur "),i()()()),e&2){let t=d.$implicit,s=c(2);r(7),u(t.productName),r(),_("ngClass",s.getStatusClass("active")),r(7),u(t.productName),r(),l(16,t.description?16:-1),r(),l(17,t.acquisitionDate?17:-1),r(),l(18,t.warrantyEndDate?18:-1),r(2),_("routerLink",A(8,H))("queryParams",I(9,R,t.productId))}}function it(e,d){if(e&1&&(n(0,"div",15),O(1,nt,26,11,"div",16,$),i()),e&2){let t=c();r(),k(t.filteredProducts)}}var mt=(()=>{class e{constructor(t,s){this.productService=t,this.authService=s,this.products=[],this.filteredProducts=[],this.isLoading=!0,this.searchQuery="",this.tenantId=null}ngOnInit(){this.getTenantId(),this.tenantId&&this.loadTenantProducts()}getTenantId(){let t=this.authService.getCurrentUser();t&&t.identifier&&(this.tenantId=parseInt(t.identifier,10))}loadTenantProducts(){if(!this.tenantId){this.isLoading=!1;return}this.isLoading=!0,this.productService.getTenantProducts(this.tenantId).subscribe({next:t=>{let s=t.data||t||[];this.products=s.map(a=>({productId:a.productId,productName:a.productName,description:a.description,warrantyEndDate:a.warrantyEndDate,acquisitionDate:a.acquisitionDate})),this.applyFilter(),this.isLoading=!1},error:()=>{this.isLoading=!1}})}applyFilter(){if(!this.searchQuery)this.filteredProducts=[...this.products];else{let t=this.searchQuery.toLowerCase();this.filteredProducts=this.products.filter(s=>s.productName.toLowerCase().includes(t)||s.description?.toLowerCase().includes(t))}}getStatusClass(t){return"status-active"}static{this.\u0275fac=function(s){return new(s||e)(f(Y),f(V))}}static{this.\u0275cmp=b({type:e,selectors:[["app-customer-assets"]],standalone:!0,features:[T],decls:15,vars:2,consts:[[1,"customer-assets"],[1,"page-header"],[1,"search-card"],[1,"search-box"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","text","placeholder","\xDCr\xFCn ara (isim)...",3,"ngModelChange","ngModel"],[1,"loading-container"],[1,"loading-spinner"],[1,"empty-state"],["width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["x","2","y","7","width","20","height","14","rx","2","ry","2"],["d","M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"],[1,"btn-clear",3,"click"],[1,"assets-grid"],[1,"asset-card"],[1,"asset-icon"],["width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"asset-content"],[1,"asset-name"],[1,"badge",3,"ngClass"],[1,"asset-details"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"asset-actions"],[1,"btn-create-ticket",3,"routerLink","queryParams"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","16"],["x1","8","y1","12","x2","16","y2","12"],[1,"value","description"]],template:function(s,a){s&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),o(3,"\xDCr\xFCnlerim"),i(),n(4,"p"),o(5,"Firman\u0131za ait kay\u0131tl\u0131 \xFCr\xFCnleri buradan g\xF6r\xFCnt\xFCleyebilirsiniz."),i()(),n(6,"div",2)(7,"div",3),m(),n(8,"svg",4),p(9,"circle",5)(10,"line",6),i(),C(),n(11,"input",7),F("ngModelChange",function(x){return E(a.searchQuery,x)||(a.searchQuery=x),x}),h("ngModelChange",function(){return a.applyFilter()}),i()()(),g(12,K,4,0,"div",8)(13,X,6,1)(14,it,3,0),i()),s&2&&(r(11),S("ngModel",a.searchQuery),r(),l(12,a.isLoading?12:a.filteredProducts.length===0?13:14))},dependencies:[L,z,D,B,j,G,N,q,Q],styles:[".customer-assets[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:25px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;font-weight:600;color:#1a1a2e;margin:0 0 6px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.search-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin-bottom:25px;box-shadow:0 2px 8px #0000000f}.search-box[_ngcontent-%COMP%]{position:relative;max-width:400px}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#9ca3af;stroke-linecap:round;stroke-linejoin:round}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px 10px 40px;border:2px solid #e5e7eb;border-radius:8px;font-size:14px;transition:all .2s}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0a6847;box-shadow:0 0 0 3px #0a68471a}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;background:#fff;border-radius:12px}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e9ecef;border-top-color:#0a6847;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;color:#6c757d}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#dee2e6;margin-bottom:15px;stroke-linecap:round;stroke-linejoin:round}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;color:#1a1a2e;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:#f3f4f6;color:#374151;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.empty-state[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]:hover{background:#e5e7eb}.assets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px}.asset-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f;transition:all .2s;display:flex;flex-direction:column}.asset-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #0000001a;transform:translateY(-2px)}.asset-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#ede9fe,#ddd6fe);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#7c3aed;margin-bottom:15px}.asset-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-linecap:round;stroke-linejoin:round}.asset-content[_ngcontent-%COMP%]{flex:1}.asset-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a1a2e;margin:0 0 10px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;margin-bottom:15px}.status-active[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-inactive[_ngcontent-%COMP%]{background:#e2e3e5;color:#383d41}.status-maintenance[_ngcontent-%COMP%]{background:#fef3cd;color:#856404}.status-retired[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.asset-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#374151}.detail-item[_ngcontent-%COMP%]   .value.description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.asset-actions[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px solid #f1f3f4}.btn-create-ticket[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:10px 15px;background:#f0f9f6;color:#0a6847;border:none;border-radius:8px;font-size:13px;font-weight:500;text-decoration:none;cursor:pointer;transition:all .2s}.btn-create-ticket[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-linecap:round;stroke-linejoin:round}.btn-create-ticket[_ngcontent-%COMP%]:hover{background:#0a6847;color:#fff}@media (max-width: 768px){.assets-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-box[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.asset-card[_ngcontent-%COMP%]{padding:15px}}"]})}}return e})();export{mt as CustomerAssetsComponent};
