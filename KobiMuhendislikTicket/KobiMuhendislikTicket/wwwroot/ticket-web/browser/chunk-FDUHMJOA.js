import{a as G}from"./chunk-23HTR6DO.js";import"./chunk-2J5WZGWU.js";import{a as U}from"./chunk-V3F3MMBH.js";import{a as Y}from"./chunk-POCSGDA3.js";import{a as H}from"./chunk-3F3BRH62.js";import{f as B,i as A}from"./chunk-RCMVJVUR.js";import{K as w,La as _,Na as C,Oa as P,Pa as T,Qa as O,Sa as x,Tb as D,Ua as E,Va as y,Wa as v,Wb as L,Xa as o,Ya as r,Yb as j,Z as I,Za as S,ab as b,bb as p,cb as l,fa as g,ga as f,ha as M,i as N,ia as R,ib as c,jb as u,kb as k,rb as z,sa as V,sb as $,tb as F,ya as s,za as h}from"./chunk-W3I5MFZP.js";var K=(a,d)=>d.id,J=()=>[1,2,3],q=a=>["/staff/tickets",a];function Q(a,d){if(a&1){let t=b();o(0,"div",4),c(1),o(2,"button",16),p("click",function(){g(t);let n=l();return f(n.error=null)}),c(3,"\xD7"),r()()}if(a&2){let t=l();s(),k(" ",t.error," ")}}function W(a,d){if(a&1&&(o(0,"div",5),c(1),r()),a&2){let t=l();s(),k(" ",t.successMessage," ")}}function X(a,d){if(a&1&&(o(0,"option",11),c(1),r()),a&2){let t,e=d.$implicit;C("value",((t=e.sortOrder)!==null&&t!==void 0?t:e.id)+""),s(),u(e.label)}}function Z(a,d){if(a&1&&(o(0,"option",11),c(1),r()),a&2){let t,e=d.$implicit;C("value",((t=e.sortOrder)!==null&&t!==void 0?t:e.id)+""),s(),u(e.label)}}function tt(a,d){if(a&1&&(o(0,"option",11),c(1),r()),a&2){let t=d.$implicit;C("value",t),s(),u(t)}}function et(a,d){a&1&&(o(0,"div",14),c(1,"Y\xFCkleniyor..."),r())}function nt(a,d){a&1&&(o(0,"div",17),M(),o(1,"svg",18),S(2,"path",19)(3,"polyline",20)(4,"path",21),r(),R(),o(5,"p"),c(6,"Hen\xFCz size atanm\u0131\u015F ticket yok"),r()())}function it(a,d){if(a&1&&(o(0,"span",34),c(1),M(),o(2,"svg",43),S(3,"path",44)(4,"path",45),r()()),a&2){let t=l().$implicit,e=l(2);s(),k("",e.getTicketNotificationCount(t.id)," ")}}function ot(a,d){if(a&1&&(o(0,"span",37),c(1),r()),a&2){let t=l().$implicit;s(),u(t.assetName)}}function rt(a,d){if(a&1){let t=b();o(0,"button",46),p("click",function(n){g(t);let i=l().$implicit,m=l(2);return f(m.openReleaseConfirm(i.id,n,i.title))}),M(),o(1,"svg",47),S(2,"line",48)(3,"polyline",49),r()()}}function at(a,d){if(a&1){let t=b();o(0,"tr",30),p("click",function(){let n=g(t).$implicit,i=l(2);return f(i.onTicketSelect(n.id))}),o(1,"td",31)(2,"div",32)(3,"span",33),c(4),r(),_(5,it,5,1,"span",34),r()(),o(6,"td",35)(7,"span",36),c(8),r(),_(9,ot,2,1,"span",37),r(),o(10,"td"),c(11),r(),o(12,"td")(13,"span",38),c(14),r()(),o(15,"td")(16,"span",39),c(17),r()(),o(18,"td",40),c(19),r(),o(20,"td",41),p("click",function(n){return g(t),f(n.stopPropagation())}),_(21,rt,4,0,"button",42),r()()}if(a&2){let t=d.$implicit,e=l(2);T("has-notification",e.getTicketNotificationCount(t.id)>0),C("routerLink",F(24,q,t.id)),s(4),u(t.ticketCode||"#"+t.id),s(),x(5,e.getTicketNotificationCount(t.id)>0?5:-1),s(3),u(t.title),s(),x(9,t.assetName?9:-1),s(2),u(t.companyName||"-"),s(2),O(e.getStatusClass(t.status)),P("background-color",e.getStatusColor(t.status))("color",e.getStatusColor(t.status)?"#fff":null),s(),k(" ",e.getStatusText(t.status)," "),s(2),O(e.getPriorityClass(t.priority)),P("background-color",e.getPriorityColor(t.priority))("color",e.getPriorityColor(t.priority)?"#fff":null),s(),k(" ",e.getPriorityText(t.priority)," "),s(2),u(e.formatDate(t.createdDate)),s(2),x(21,t.status!==4&&t.status!==5?21:-1)}}function ct(a,d){if(a&1&&(o(0,"span",34),c(1),r()),a&2){let t=l().$implicit,e=l(2);s(),u(e.getTicketNotificationCount(t.id))}}function st(a,d){if(a&1&&(o(0,"span",37),c(1),r()),a&2){let t=l().$implicit;s(),u(t.assetName)}}function lt(a,d){if(a&1){let t=b();o(0,"button",46),p("click",function(n){g(t);let i=l().$implicit,m=l(2);return f(m.openReleaseConfirm(i.id,n,i.title))}),M(),o(1,"svg",47),S(2,"line",48)(3,"polyline",49),r()()}}function dt(a,d){if(a&1){let t=b();o(0,"div",50),p("click",function(){let n=g(t).$implicit,i=l(2);return f(i.onTicketSelect(n.id))}),o(1,"div",51)(2,"div",32)(3,"span",33),c(4),r(),_(5,ct,2,1,"span",34),r(),o(6,"span",38),c(7),r()(),o(8,"div",52)(9,"span",36),c(10),r(),_(11,st,2,1,"span",37),r(),o(12,"div",53)(13,"div",54)(14,"span",55),c(15,"M\xFC\u015Fteri"),r(),o(16,"span",56),c(17),r()(),o(18,"div",54)(19,"span",55),c(20,"\xD6ncelik"),r(),o(21,"span",39),c(22),r()(),o(23,"div",54)(24,"span",55),c(25,"Tarih"),r(),o(26,"span",40),c(27),r()()(),o(28,"div",57),p("click",function(n){return g(t),f(n.stopPropagation())}),_(29,lt,4,0,"button",42),r()()}if(a&2){let t=d.$implicit,e=l(2);T("has-notification",e.getTicketNotificationCount(t.id)>0),C("routerLink",F(24,q,t.id)),s(4),u(t.ticketCode||"#"+t.id),s(),x(5,e.getTicketNotificationCount(t.id)>0?5:-1),s(),O(e.getStatusClass(t.status)),P("background-color",e.getStatusColor(t.status))("color",e.getStatusColor(t.status)?"#fff":null),s(),k(" ",e.getStatusText(t.status)," "),s(3),u(t.title),s(),x(11,t.assetName?11:-1),s(6),u(t.companyName||"-"),s(4),O(e.getPriorityClass(t.priority)),P("background-color",e.getPriorityColor(t.priority))("color",e.getPriorityColor(t.priority)?"#fff":null),s(),k(" ",e.getPriorityText(t.priority)," "),s(5),u(e.formatDate(t.createdDate)),s(2),x(29,t.status!==4&&t.status!==5?29:-1)}}function pt(a,d){if(a&1){let t=b();o(0,"button",59),p("click",function(){g(t);let n=l().$implicit,i=l(2);return f(i.goToPage(n))}),c(1),r()}if(a&2){let t=l().$implicit,e=l(2);T("active",t===e.currentPage),s(),k(" ",t," ")}}function gt(a,d){if(a&1&&_(0,pt,2,3,"button",58),a&2){let t=d.$implicit,e=l(2);x(0,t<=e.totalPages?0:-1)}}function ft(a,d){if(a&1){let t=b();o(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th"),c(5,"ID"),r(),o(6,"th"),c(7,"Ba\u015Fl\u0131k"),r(),o(8,"th"),c(9,"M\xFC\u015Fteri"),r(),o(10,"th"),c(11,"Durum"),r(),o(12,"th"),c(13,"\xD6ncelik"),r(),o(14,"th"),c(15,"Tarih"),r(),o(16,"th"),c(17,"\u0130\u015Flemler"),r()()(),o(18,"tbody"),y(19,at,22,26,"tr",24,K),r()()(),o(21,"div",25),y(22,dt,30,26,"div",26,K),r(),o(24,"div",27)(25,"button",28),p("click",function(){g(t);let n=l();return f(n.previousPage())}),c(26," \u2190 \xD6nceki "),r(),o(27,"div",29),y(28,gt,1,1,null,null,E),r(),o(30,"button",28),p("click",function(){g(t);let n=l();return f(n.nextPage())}),c(31," Sonraki \u2192 "),r()()}if(a&2){let t=l();s(19),v(t.filteredTickets),s(3),v(t.filteredTickets),s(3),C("disabled",t.currentPage===1),s(3),v($(2,J)),s(2),C("disabled",t.currentPage===t.totalPages)}}function ut(a,d){if(a&1&&(o(0,"p")(1,"strong"),c(2),r()()),a&2){let t=l(2);s(2),u(t.ticketToReleaseTitle)}}function mt(a,d){if(a&1){let t=b();o(0,"div",60),p("click",function(){g(t);let n=l();return f(n.closeReleaseConfirm())}),o(1,"div",61),p("click",function(n){return g(t),f(n.stopPropagation())}),o(2,"div",62)(3,"h3"),c(4,"Ticket\u0131 B\u0131rak"),r(),o(5,"button",63),p("click",function(){g(t);let n=l();return f(n.closeReleaseConfirm())}),c(6,"\xD7"),r()(),o(7,"div",64)(8,"p"),c(9,"Bu ticket\u0131 b\u0131rakmak istedi\u011Finize emin misiniz?"),r(),_(10,ut,3,1,"p"),r(),o(11,"div",65)(12,"button",66),p("click",function(){g(t);let n=l();return f(n.closeReleaseConfirm())}),c(13,"\u0130ptal"),r(),o(14,"button",67),p("click",function(){g(t);let n=l();return f(n.confirmRelease())}),c(15,"Tamam"),r()()()()}if(a&2){let t=l();s(10),x(10,t.ticketToReleaseTitle?10:-1)}}var Ft=(()=>{class a{constructor(t,e,n,i,m){this.staffService=t,this.signalRService=e,this.paramSvc=n,this.notificationService=i,this.platformId=m,this.tickets=[],this.filteredTickets=[],this.notifications=[],this.ticketNotifications=new Map,this.isLoading=!0,this.error=null,this.successMessage=null,this.currentPage=1,this.itemsPerPage=20,this.totalPages=1,this.selectedStatus="all",this.selectedPriority="all",this.selectedCustomer="all",this.customers=[],this.destroy$=new N,this.statusOptions=[],this.priorityOptions=[],this.showReleaseConfirm=!1,this.ticketToReleaseId=null,this.ticketToReleaseTitle=null,this.isBrowser=j(this.platformId)}ngOnInit(){this.loadTickets(),setTimeout(()=>{this.initSignalR(),this.subscribeToNotifications()},1e3),this.loadLookups()}loadLookups(){let t=this.paramSvc;t&&(t.getByGroup("TicketStatus").subscribe({next:e=>{let n=e?.data?.data||e?.data||e||[];this.statusOptions=(Array.isArray(n)?n:[]).map((i,m)=>({id:i.id,key:i.key,label:i.value,sortOrder:i.sortOrder??m+1,color:i.value2??i.color??null}))},error:()=>{this.statusOptions=[]}}),t.getByGroup("TicketPriority").subscribe({next:e=>{let n=e?.data?.data||e?.data||e||[];this.priorityOptions=(Array.isArray(n)?n:[]).map((i,m)=>({id:i.id,key:i.key,label:i.value,sortOrder:i.sortOrder??m+1,color:i.value2??i.color??null}))},error:()=>{this.priorityOptions=[]}}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initSignalR(){if(!this.isBrowser){console.log("SignalR: Not in browser environment");return}let t=localStorage.getItem("token")||sessionStorage.getItem("token");t&&this.signalRService.startConnection(t).catch(e=>{console.error("SignalR ba\u011Flant\u0131 hatas\u0131:",e)})}subscribeToNotifications(){this.notificationService.notificationsList$.pipe(w(this.destroy$)).subscribe(t=>{this.notifications=t,this.updateTicketNotificationCounts()}),this.signalRService.commentReceived$.pipe(w(this.destroy$)).subscribe(t=>{let e=Number(t.ticketId),n=this.tickets.find(i=>i.id===e);if(n){let i={id:`notif-${Date.now()}-${Math.random()}`,title:`${n.title} - Yeni Yorum`,message:`${t.authorName}: ${t.message.substring(0,50)}...`,type:"comment",isRead:!1,ticketId:t.ticketId,createdDate:new Date().toISOString()};this.notificationService.addNotificationDirectly(i),this.updateTicketNotificationCounts()}})}updateTicketNotificationCounts(){this.ticketNotifications.clear(),this.notifications.forEach(t=>{if(t.ticketId&&!t.isRead){let e=Number(t.ticketId),n=this.ticketNotifications.get(e)||0;this.ticketNotifications.set(e,n+1)}})}getTicketNotificationCount(t){return this.ticketNotifications.get(t)||0}loadTickets(){this.isLoading=!0,this.staffService.getMyTickets(this.currentPage,this.itemsPerPage).subscribe({next:t=>{t.success&&(this.tickets=t.data,this.extractCustomers(),this.applyFilters()),this.isLoading=!1},error:t=>{this.error="Ticketlar y\xFCklenirken hata olu\u015Ftu",this.isLoading=!1}})}extractCustomers(){let t=new Set;this.tickets.forEach(e=>{e.companyName&&t.add(e.companyName)}),this.customers=Array.from(t).sort()}applyFilters(){this.filteredTickets=this.tickets.filter(t=>{let e=this.selectedStatus==="all"||t.status.toString()===this.selectedStatus,n=this.selectedPriority==="all"||t.priority.toString()===this.selectedPriority,i=this.selectedCustomer==="all"||t.companyName===this.selectedCustomer;return e&&n&&i}),this.filteredTickets.sort((t,e)=>{let n=t.status===4||t.status===5,i=e.status===4||e.status===5;return n&&!i?1:!n&&i?-1:0})}onStatusFilterChange(t){this.selectedStatus=t.target.value,this.applyFilters()}onPriorityFilterChange(t){this.selectedPriority=t.target.value,this.applyFilters()}onCustomerFilterChange(t){this.selectedCustomer=t.target.value,this.applyFilters()}openReleaseConfirm(t,e,n){e&&(e.stopPropagation(),e.preventDefault()),this.ticketToReleaseId=Number(t),this.ticketToReleaseTitle=n||null,this.showReleaseConfirm=!0}closeReleaseConfirm(){this.ticketToReleaseId=null,this.ticketToReleaseTitle=null,this.showReleaseConfirm=!1}confirmRelease(){if(!this.ticketToReleaseId)return;let t=this.ticketToReleaseId;this.staffService.releaseTicket(t).subscribe({next:e=>{e.success&&(this.successMessage="Ticket ba\u015Far\u0131yla b\u0131rak\u0131ld\u0131",this.loadTickets(),setTimeout(()=>this.successMessage=null,3e3)),this.closeReleaseConfirm()},error:e=>{this.error=e.error?.message||"Ticket b\u0131rak\u0131l\u0131rken hata olu\u015Ftu",this.closeReleaseConfirm()}})}getStatusText(t){let e=Number(t),n=this.statusOptions.find(i=>Number(i.sortOrder??i.id)===e||String(i.id)===String(t)||String(i.key)===String(t)||i.label===t);if(n)return n.label||"Bilinmiyor";switch(t){case 1:return"A\xE7\u0131k";case 2:return"\u0130\u015Flemde";case 3:return"M\xFC\u015Fteri Bekliyor";case 4:return"\xC7\xF6z\xFCld\xFC";case 5:return"Kapal\u0131";default:return"Bilinmiyor"}}getStatusClass(t){let e=Number(t),n=this.statusOptions.find(i=>Number(i.sortOrder??i.id)===e||String(i.id)===String(t)||String(i.key)===String(t)||i.label===t);if(n)switch(Number(n.sortOrder??n.id)){case 1:return"status-open";case 2:return"status-processing";case 3:return"status-waiting";case 4:return"status-resolved";case 5:return"status-closed";default:return""}switch(t){case 1:return"status-open";case 2:return"status-processing";case 3:return"status-waiting";case 4:return"status-resolved";case 5:return"status-closed";default:return""}}getPriorityText(t){let e=Number(t),n=this.priorityOptions.find(i=>Number(i.sortOrder??i.id)===e||String(i.id)===String(t)||String(i.key)===String(t)||i.label===t);if(n)return n.label||"Normal";switch(t){case 1:return"D\xFC\u015F\xFCk";case 2:return"Normal";case 3:return"Y\xFCksek";case 4:return"Kritik";default:return"Normal"}}getPriorityClass(t){let e=Number(t),n=this.priorityOptions.find(i=>Number(i.sortOrder??i.id)===e||String(i.id)===String(t)||String(i.key)===String(t)||i.label===t);if(n)switch(Number(n.sortOrder??n.id)){case 1:return"priority-low";case 2:return"priority-normal";case 3:return"priority-high";case 4:return"priority-critical";default:return"priority-normal"}switch(t){case 1:return"priority-low";case 2:return"priority-normal";case 3:return"priority-high";case 4:return"priority-critical";default:return"priority-normal"}}getStatusColor(t){let e=String(t??"");return this.statusOptions.find(i=>String(i.sortOrder??i.id)===e||String(i.id)===e||String(i.key)===e||i.label===t||String(i.label)===e)?.color??null}getPriorityColor(t){let e=String(t??"");return this.priorityOptions.find(i=>String(i.sortOrder??i.id)===e||String(i.id)===e||String(i.key)===e||i.label===t||String(i.label)===e)?.color??null}markNotificationAsRead(t){this.notificationService.markAsRead(t).subscribe({next:()=>{let e=this.notifications.find(n=>n.id===t);e&&(e.isRead=!0,this.updateTicketNotificationCounts())}})}deleteNotification(t){let e=this.notifications.find(n=>n.id===t);if(e){let n=this.notifications.indexOf(e);n>-1&&(this.notifications.splice(n,1),this.updateTicketNotificationCounts())}}onTicketSelect(t){this.notifications.filter(n=>n.ticketId&&Number(n.ticketId)===t&&!n.isRead).forEach(n=>{this.notificationService.markAsRead(n.id).subscribe({next:()=>{n.isRead=!0}})}),this.updateTicketNotificationCounts()}formatDate(t){return new Date(t).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}get unreadNotificationsCount(){return this.notifications.filter(t=>!t.isRead).length}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.loadTickets())}nextPage(){this.goToPage(this.currentPage+1)}previousPage(){this.goToPage(this.currentPage-1)}get paginatedTickets(){return this.filteredTickets}static{this.\u0275fac=function(e){return new(e||a)(h(U),h(Y),h(H),h(G),h(V))}}static{this.\u0275cmp=I({type:a,selectors:[["app-my-tickets"]],standalone:!0,features:[z],decls:39,vars:10,consts:[[1,"my-tickets-page"],[1,"page-header"],[1,"header-left"],[1,"subtitle"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"filters-bar"],[1,"filter-group"],[3,"change","value"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"results-count"],[1,"tickets-card"],[1,"loading"],[1,"release-overlay"],[1,"close-btn",3,"click"],[1,"empty-state"],["width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M9 15l2 2 4-4"],[1,"table-responsive"],[1,"tickets-table"],[1,"clickable-row",3,"routerLink","has-notification"],[1,"tickets-cards"],[1,"ticket-card","clickable-row",3,"routerLink","has-notification"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"page-numbers"],[1,"clickable-row",3,"click","routerLink"],[1,"id-cell"],[1,"ticket-id-container"],[1,"ticket-code"],[1,"notification-badge"],[1,"title-cell"],[1,"ticket-title"],[1,"asset-name"],[1,"status-badge"],[1,"priority-badge"],[1,"date-cell"],[1,"actions-cell",3,"click"],["title","Ticket\u0131 B\u0131rak",1,"action-btn","release"],["width","14","height","14","viewBox","0 0 24 24","fill","currentColor","stroke","none"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],["title","Ticket\u0131 B\u0131rak",1,"action-btn","release",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","21","y1","12","x2","7","y2","12"],["points","14 5 7 12 14 19"],[1,"ticket-card","clickable-row",3,"click","routerLink"],[1,"ticket-card-header"],[1,"ticket-card-title"],[1,"ticket-card-meta"],[1,"meta-row"],[1,"meta-label"],[1,"meta-value"],[1,"ticket-card-actions","actions-cell",3,"click"],[1,"page-number",3,"active"],[1,"page-number",3,"click"],[1,"release-overlay",3,"click"],[1,"release-card","card",3,"click"],[1,"card-header"],[1,"modal-close",3,"click"],[1,"card-body"],[1,"card-actions"],[1,"btn","btn-outline",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),c(4,"Ticketlar\u0131m"),r(),o(5,"p",3),c(6,"Size atanm\u0131\u015F t\xFCm ticketlar"),r()()(),_(7,Q,4,1,"div",4)(8,W,2,1,"div",5),o(9,"div",6)(10,"div",7)(11,"label"),c(12,"Durum:"),r(),o(13,"select",8),p("change",function(m){return n.onStatusFilterChange(m)}),o(14,"option",9),c(15,"T\xFCm\xFC"),r(),_(16,X,2,2,"option",10),r()(),o(17,"div",7)(18,"label"),c(19,"\xD6ncelik:"),r(),o(20,"select",8),p("change",function(m){return n.onPriorityFilterChange(m)}),o(21,"option",9),c(22,"T\xFCm\xFC"),r(),_(23,Z,2,2,"option",10),r()(),o(24,"div",7)(25,"label"),c(26,"M\xFC\u015Fteri:"),r(),o(27,"select",8),p("change",function(m){return n.onCustomerFilterChange(m)}),o(28,"option",9),c(29,"T\xFCm\xFC"),r(),y(30,tt,2,2,"option",11,E),r()(),o(32,"div",12),c(33),r()(),o(34,"div",13),_(35,et,2,0,"div",14)(36,nt,7,0)(37,ft,32,3),r(),_(38,mt,16,1,"div",15),r()),e&2&&(s(7),x(7,n.error?7:-1),s(),x(8,n.successMessage?8:-1),s(5),C("value",n.selectedStatus),s(3),C("ngForOf",n.statusOptions),s(4),C("value",n.selectedPriority),s(3),C("ngForOf",n.priorityOptions),s(4),C("value",n.selectedCustomer),s(3),v(n.customers),s(3),k(" ",n.filteredTickets.length," ticket bulundu "),s(2),x(35,n.isLoading?35:n.filteredTickets.length===0?36:37),s(3),x(38,n.showReleaseConfirm?38:-1))},dependencies:[L,D,A,B],styles:[".my-tickets-page[_ngcontent-%COMP%]{padding:0}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:15px;margin:0}.notifications-section[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:16px;margin-bottom:20px}.notifications-section[_ngcontent-%COMP%]   .notifications-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.notifications-section[_ngcontent-%COMP%]   .notifications-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#1e293b;margin:0;display:flex;align-items:center;gap:8px}.notifications-section[_ngcontent-%COMP%]   .notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{background:#ef4444;color:#fff;padding:2px 8px;border-radius:10px;font-size:12px;font-weight:600}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:12px;background:#fff;border-radius:8px;border-left:3px solid #e2e8f0;transition:all .2s}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]{background:#eff6ff;border-left-color:#0ea5e9}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-weight:600;color:#0284c7}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{flex:1}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1e293b;margin:0 0 4px}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin:0 0 4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;gap:6px;margin-left:12px;flex-shrink:0}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e2e8f0;border:none;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:12px;color:#64748b;transition:all .2s}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#1e293b}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .mark-read-btn[_ngcontent-%COMP%]:hover{background:#d1fae5;color:#059669}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#fecaca;color:#dc2626}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]{text-align:center;padding:8px}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;color:#0284c7;text-decoration:none;cursor:pointer}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between}.alert.alert-error[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.alert.alert-success[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a;border:1px solid #bbf7d0}.alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;color:inherit}.filters-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:20px;padding:16px 20px;background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;color:#1e293b;background:#fff;cursor:pointer}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#059669}.results-count[_ngcontent-%COMP%]{margin-left:auto;font-size:14px;color:#64748b}.tickets-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.loading[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;color:#64748b}.loading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.tickets-cards[_ngcontent-%COMP%]{display:none;padding:12px;gap:10px}.ticket-card[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:10px;background:#f8fafc;padding:12px}.ticket-card.has-notification[_ngcontent-%COMP%]{border-left:4px solid #f44336;background:#fff8f8}.ticket-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}.ticket-card-title[_ngcontent-%COMP%]{margin-bottom:8px}.ticket-card-title[_ngcontent-%COMP%]   .ticket-title[_ngcontent-%COMP%]{white-space:normal}.ticket-card-meta[_ngcontent-%COMP%]{display:grid;gap:6px}.meta-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.meta-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.meta-value[_ngcontent-%COMP%]{font-size:13px;color:#1e293b;font-weight:500;text-align:right;word-break:break-word}.ticket-card-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:flex-end}.tickets-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.tickets-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tickets-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #f1f5f9}.tickets-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;background:#f8fafc}.tickets-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#1e293b}.tickets-table[_ngcontent-%COMP%]   .clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .2s}.tickets-table[_ngcontent-%COMP%]   .clickable-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.tickets-table[_ngcontent-%COMP%]   .clickable-row.has-notification[_ngcontent-%COMP%]{background:#fff3e0;border-left:4px solid #f44336}.tickets-table[_ngcontent-%COMP%]   .clickable-row.has-notification[_ngcontent-%COMP%]:hover{background:#ffe0b2}.id-cell[_ngcontent-%COMP%]{text-align:left;white-space:nowrap}.id-cell[_ngcontent-%COMP%]   .ticket-id-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.id-cell[_ngcontent-%COMP%]   .ticket-code[_ngcontent-%COMP%]{display:inline-block;background:transparent;color:#0ea5e9;padding:0;border-radius:0;font-size:12px;font-weight:600;white-space:nowrap}.id-cell[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background:#f44336;color:#fff;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600;white-space:nowrap;animation:_ngcontent-%COMP%_blink 1s infinite;box-shadow:0 0 8px #f44336cc}.id-cell[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;animation:_ngcontent-%COMP%_bellRing .5s ease-in-out 0s infinite}.title-cell[_ngcontent-%COMP%]{max-width:300px}.title-cell[_ngcontent-%COMP%]   .ticket-title[_ngcontent-%COMP%]{display:block;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-cell[_ngcontent-%COMP%]   .asset-name[_ngcontent-%COMP%]{display:block;font-size:12px;color:#64748b;margin-top:2px}.date-cell[_ngcontent-%COMP%]{white-space:nowrap;color:#64748b;font-size:13px}.status-badge[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%]{display:inline-block;font-size:11px;font-weight:500;padding:4px 10px;border-radius:6px}.status-open[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-processing[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-resolved[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-waiting[_ngcontent-%COMP%]{background:#e0e7ff;color:#4338ca}.status-closed[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.priority-low[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.priority-normal[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.priority-critical[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.actions-cell[_ngcontent-%COMP%]{width:80px}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:6px;border-radius:6px;cursor:pointer;transition:all .2s}.action-btn.release[_ngcontent-%COMP%]{color:#64748b}.action-btn.release[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#ef4444}@keyframes _ngcontent-%COMP%_blink{0%,49%{opacity:1}50%,to{opacity:.4}}@keyframes _ngcontent-%COMP%_bellRing{0%{transform:rotate(0)}15%{transform:rotate(15deg)}30%{transform:rotate(-15deg)}45%{transform:rotate(15deg)}60%{transform:rotate(-15deg)}75%{transform:rotate(15deg)}to{transform:rotate(0)}}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;padding:20px;border-top:1px solid #e5e7eb;background:#f9fafb}.pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:8px}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}@media (max-width: 768px){.filters-bar[_ngcontent-%COMP%]{flex-wrap:wrap}.results-count[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-top:10px}.table-responsive[_ngcontent-%COMP%]{display:none}.tickets-cards[_ngcontent-%COMP%]{display:grid}}.release-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0f172a73;z-index:1200;padding:1rem}.release-card[_ngcontent-%COMP%]{width:420px;max-width:95%;background:#fff;border-radius:12px;box-shadow:0 20px 50px #0206171f;overflow:hidden;border:1px solid #eef2f7;animation:_ngcontent-%COMP%_popUp .18s ease-out}.release-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;border-bottom:1px solid #f1f5f9}.release-card[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px;line-height:1;cursor:pointer;color:#64748b}.release-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem;color:#0f172a;font-size:.95rem}.release-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:.75rem 1.25rem 1.25rem;justify-content:flex-end}.release-card[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border:none;padding:.625rem 1.25rem;border-radius:8px;font-weight:500}@keyframes _ngcontent-%COMP%_popUp{0%{transform:translateY(8px) scale(.995);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}"]})}}return a})();export{Ft as MyTicketsComponent};
