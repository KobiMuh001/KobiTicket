import{a as Y}from"./chunk-C335PP37.js";import{a as j}from"./chunk-LMBHDFGG.js";import"./chunk-SV5AFNMF.js";import{a as A}from"./chunk-HWFY6JGU.js";import{f as L,i as B}from"./chunk-AVDF5BY2.js";import{K as S,La as _,Na as k,Pa as T,Qa as h,Sa as u,Ua as w,Ub as R,Va as O,Wa as v,Wb as D,Xa as e,Ya as n,Z as I,Za as y,ab as M,bb as p,cb as s,fa as f,ga as m,ha as b,hb as a,i as F,ia as N,ib as g,jb as C,qb as V,rb as $,sa as z,sb as E,ya as r,za as P}from"./chunk-ECSZKSZ4.js";var G=(c,d)=>d.id,K=()=>[1,2,3],H=c=>["/staff/tickets",c];function q(c,d){if(c&1){let t=M();e(0,"div",4),a(1),e(2,"button",19),p("click",function(){f(t);let o=s();return m(o.error=null)}),a(3,"\xD7"),n()()}if(c&2){let t=s();r(),C(" ",t.error," ")}}function U(c,d){if(c&1&&(e(0,"div",5),a(1),n()),c&2){let t=s();r(),C(" ",t.successMessage," ")}}function J(c,d){if(c&1&&(e(0,"option",15),a(1),n()),c&2){let t=d.$implicit;k("value",t),r(),g(t)}}function Q(c,d){c&1&&(e(0,"div",18),a(1,"Y\xFCkleniyor..."),n())}function W(c,d){c&1&&(e(0,"div",20),b(),e(1,"svg",21),y(2,"path",22)(3,"polyline",23)(4,"path",24),n(),N(),e(5,"p"),a(6,"Hen\xFCz size atanm\u0131\u015F ticket yok"),n()())}function X(c,d){if(c&1&&(e(0,"span",37),a(1),b(),e(2,"svg",46),y(3,"path",47)(4,"path",48),n()()),c&2){let t=s().$implicit,i=s(2);r(),C("",i.getTicketNotificationCount(t.id)," ")}}function Z(c,d){if(c&1&&(e(0,"span",40),a(1),n()),c&2){let t=s().$implicit;r(),g(t.assetName)}}function tt(c,d){if(c&1){let t=M();e(0,"button",49),p("click",function(o){f(t);let l=s().$implicit,x=s(2);return m(x.releaseTicket(l.id,o))}),b(),e(1,"svg",50),y(2,"polyline",51)(3,"path",52),n()()}}function et(c,d){if(c&1){let t=M();e(0,"tr",33),p("click",function(){let o=f(t).$implicit,l=s(2);return m(l.onTicketSelect(o.id))}),e(1,"td",34)(2,"div",35)(3,"span",36),a(4),n(),_(5,X,5,1,"span",37),n()(),e(6,"td",38)(7,"span",39),a(8),n(),_(9,Z,2,1,"span",40),n(),e(10,"td"),a(11),n(),e(12,"td")(13,"span",41),a(14),n()(),e(15,"td")(16,"span",42),a(17),n()(),e(18,"td",43),a(19),n(),e(20,"td",44),p("click",function(o){return f(t),m(o.stopPropagation())}),_(21,tt,4,0,"button",45),n()()}if(c&2){let t=d.$implicit,i=s(2);T("has-notification",i.getTicketNotificationCount(t.id)>0),k("routerLink",E(16,H,t.id)),r(4),g(t.ticketCode||"#"+t.id),r(),u(5,i.getTicketNotificationCount(t.id)>0?5:-1),r(3),g(t.title),r(),u(9,t.assetName?9:-1),r(2),g(t.companyName||"-"),r(2),h(i.getStatusClass(t.status)),r(),C(" ",i.getStatusText(t.status)," "),r(2),h(i.getPriorityClass(t.priority)),r(),C(" ",i.getPriorityText(t.priority)," "),r(2),g(i.formatDate(t.createdDate)),r(2),u(21,t.status!==4&&t.status!==5?21:-1)}}function nt(c,d){if(c&1&&(e(0,"span",37),a(1),n()),c&2){let t=s().$implicit,i=s(2);r(),g(i.getTicketNotificationCount(t.id))}}function it(c,d){if(c&1&&(e(0,"span",40),a(1),n()),c&2){let t=s().$implicit;r(),g(t.assetName)}}function ot(c,d){if(c&1){let t=M();e(0,"button",49),p("click",function(o){f(t);let l=s().$implicit,x=s(2);return m(x.releaseTicket(l.id,o))}),b(),e(1,"svg",50),y(2,"polyline",51)(3,"path",52),n()()}}function at(c,d){if(c&1){let t=M();e(0,"div",53),p("click",function(){let o=f(t).$implicit,l=s(2);return m(l.onTicketSelect(o.id))}),e(1,"div",54)(2,"div",35)(3,"span",36),a(4),n(),_(5,nt,2,1,"span",37),n(),e(6,"span",41),a(7),n()(),e(8,"div",55)(9,"span",39),a(10),n(),_(11,it,2,1,"span",40),n(),e(12,"div",56)(13,"div",57)(14,"span",58),a(15,"M\xFC\u015Fteri"),n(),e(16,"span",59),a(17),n()(),e(18,"div",57)(19,"span",58),a(20,"\xD6ncelik"),n(),e(21,"span",42),a(22),n()(),e(23,"div",57)(24,"span",58),a(25,"Tarih"),n(),e(26,"span",43),a(27),n()()(),e(28,"div",60),p("click",function(o){return f(t),m(o.stopPropagation())}),_(29,ot,4,0,"button",45),n()()}if(c&2){let t=d.$implicit,i=s(2);T("has-notification",i.getTicketNotificationCount(t.id)>0),k("routerLink",E(16,H,t.id)),r(4),g(t.ticketCode||"#"+t.id),r(),u(5,i.getTicketNotificationCount(t.id)>0?5:-1),r(),h(i.getStatusClass(t.status)),r(),C(" ",i.getStatusText(t.status)," "),r(3),g(t.title),r(),u(11,t.assetName?11:-1),r(6),g(t.companyName||"-"),r(4),h(i.getPriorityClass(t.priority)),r(),C(" ",i.getPriorityText(t.priority)," "),r(5),g(i.formatDate(t.createdDate)),r(2),u(29,t.status!==4&&t.status!==5?29:-1)}}function ct(c,d){if(c&1){let t=M();e(0,"button",62),p("click",function(){f(t);let o=s().$implicit,l=s(2);return m(l.goToPage(o))}),a(1),n()}if(c&2){let t=s().$implicit,i=s(2);T("active",t===i.currentPage),r(),C(" ",t," ")}}function rt(c,d){if(c&1&&_(0,ct,2,3,"button",61),c&2){let t=d.$implicit,i=s(2);u(0,t<=i.totalPages?0:-1)}}function st(c,d){if(c&1){let t=M();e(0,"div",25)(1,"table",26)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),n(),e(6,"th"),a(7,"Ba\u015Fl\u0131k"),n(),e(8,"th"),a(9,"M\xFC\u015Fteri"),n(),e(10,"th"),a(11,"Durum"),n(),e(12,"th"),a(13,"\xD6ncelik"),n(),e(14,"th"),a(15,"Tarih"),n(),e(16,"th"),a(17,"\u0130\u015Flemler"),n()()(),e(18,"tbody"),O(19,et,22,18,"tr",27,G),n()()(),e(21,"div",28),O(22,at,30,18,"div",29,G),n(),e(24,"div",30)(25,"button",31),p("click",function(){f(t);let o=s();return m(o.previousPage())}),a(26," \u2190 \xD6nceki "),n(),e(27,"div",32),O(28,rt,1,1,null,null,w),n(),e(30,"button",31),p("click",function(){f(t);let o=s();return m(o.nextPage())}),a(31," Sonraki \u2192 "),n()()}if(c&2){let t=s();r(19),v(t.filteredTickets),r(3),v(t.filteredTickets),r(3),k("disabled",t.currentPage===1),r(3),v($(2,K)),r(2),k("disabled",t.currentPage===t.totalPages)}}var Pt=(()=>{class c{constructor(t,i,o,l){this.staffService=t,this.signalRService=i,this.notificationService=o,this.platformId=l,this.tickets=[],this.filteredTickets=[],this.notifications=[],this.ticketNotifications=new Map,this.isLoading=!0,this.error=null,this.successMessage=null,this.currentPage=1,this.itemsPerPage=20,this.totalPages=1,this.selectedStatus="all",this.selectedPriority="all",this.selectedCustomer="all",this.customers=[],this.destroy$=new F,this.isBrowser=D(this.platformId)}ngOnInit(){this.loadTickets(),setTimeout(()=>{this.initSignalR(),this.subscribeToNotifications()},1e3)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initSignalR(){if(!this.isBrowser){console.log("SignalR: Not in browser environment");return}let t=localStorage.getItem("token")||sessionStorage.getItem("token");t&&this.signalRService.startConnection(t).catch(i=>{console.error("SignalR ba\u011Flant\u0131 hatas\u0131:",i)})}subscribeToNotifications(){this.notificationService.notificationsList$.pipe(S(this.destroy$)).subscribe(t=>{this.notifications=t,this.updateTicketNotificationCounts()}),this.signalRService.commentReceived$.pipe(S(this.destroy$)).subscribe(t=>{let i=Number(t.ticketId),o=this.tickets.find(l=>l.id===i);if(o){let l={id:`notif-${Date.now()}-${Math.random()}`,title:`${o.title} - Yeni Yorum`,message:`${t.authorName}: ${t.message.substring(0,50)}...`,type:"comment",isRead:!1,ticketId:t.ticketId,createdDate:new Date().toISOString()};this.notificationService.addNotificationDirectly(l),this.updateTicketNotificationCounts()}})}updateTicketNotificationCounts(){this.ticketNotifications.clear(),this.notifications.forEach(t=>{if(t.ticketId&&!t.isRead){let i=Number(t.ticketId),o=this.ticketNotifications.get(i)||0;this.ticketNotifications.set(i,o+1)}})}getTicketNotificationCount(t){return this.ticketNotifications.get(t)||0}loadTickets(){this.isLoading=!0,this.staffService.getMyTickets(this.currentPage,this.itemsPerPage).subscribe({next:t=>{t.success&&(this.tickets=t.data,this.extractCustomers(),this.applyFilters()),this.isLoading=!1},error:t=>{this.error="Ticketlar y\xFCklenirken hata olu\u015Ftu",this.isLoading=!1}})}extractCustomers(){let t=new Set;this.tickets.forEach(i=>{i.companyName&&t.add(i.companyName)}),this.customers=Array.from(t).sort()}applyFilters(){this.filteredTickets=this.tickets.filter(t=>{let i=this.selectedStatus==="all"||t.status.toString()===this.selectedStatus,o=this.selectedPriority==="all"||t.priority.toString()===this.selectedPriority,l=this.selectedCustomer==="all"||t.companyName===this.selectedCustomer;return i&&o&&l}),this.filteredTickets.sort((t,i)=>{let o=t.status===4||t.status===5,l=i.status===4||i.status===5;return o&&!l?1:!o&&l?-1:0})}onStatusFilterChange(t){this.selectedStatus=t.target.value,this.applyFilters()}onPriorityFilterChange(t){this.selectedPriority=t.target.value,this.applyFilters()}onCustomerFilterChange(t){this.selectedCustomer=t.target.value,this.applyFilters()}releaseTicket(t,i){i.stopPropagation(),confirm("Bu ticket\u0131 b\u0131rakmak istedi\u011Finize emin misiniz?")&&this.staffService.releaseTicket(t).subscribe({next:o=>{o.success&&(this.successMessage="Ticket ba\u015Far\u0131yla b\u0131rak\u0131ld\u0131",this.loadTickets(),setTimeout(()=>this.successMessage=null,3e3))},error:o=>{this.error=o.error?.message||"Ticket b\u0131rak\u0131l\u0131rken hata olu\u015Ftu"}})}getStatusText(t){switch(t){case 1:return"A\xE7\u0131k";case 2:return"\u0130\u015Flemde";case 3:return"M\xFC\u015Fteri Bekliyor";case 4:return"\xC7\xF6z\xFCld\xFC";case 5:return"Kapal\u0131";default:return"Bilinmiyor"}}getStatusClass(t){switch(t){case 1:return"status-open";case 2:return"status-processing";case 3:return"status-waiting";case 4:return"status-resolved";case 5:return"status-closed";default:return""}}getPriorityText(t){switch(t){case 1:return"D\xFC\u015F\xFCk";case 2:return"Normal";case 3:return"Y\xFCksek";case 4:return"Kritik";default:return"Normal"}}getPriorityClass(t){switch(t){case 1:return"priority-low";case 2:return"priority-normal";case 3:return"priority-high";case 4:return"priority-critical";default:return"priority-normal"}}markNotificationAsRead(t){this.notificationService.markAsRead(t).subscribe({next:()=>{let i=this.notifications.find(o=>o.id===t);i&&(i.isRead=!0,this.updateTicketNotificationCounts())}})}deleteNotification(t){let i=this.notifications.find(o=>o.id===t);if(i){let o=this.notifications.indexOf(i);o>-1&&(this.notifications.splice(o,1),this.updateTicketNotificationCounts())}}onTicketSelect(t){this.notifications.filter(o=>o.ticketId&&Number(o.ticketId)===t&&!o.isRead).forEach(o=>{this.notificationService.markAsRead(o.id).subscribe({next:()=>{o.isRead=!0}})}),this.updateTicketNotificationCounts()}formatDate(t){return new Date(t).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}get unreadNotificationsCount(){return this.notifications.filter(t=>!t.isRead).length}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.loadTickets())}nextPage(){this.goToPage(this.currentPage+1)}previousPage(){this.goToPage(this.currentPage-1)}get paginatedTickets(){return this.filteredTickets}static{this.\u0275fac=function(i){return new(i||c)(P(Y),P(A),P(j),P(z))}}static{this.\u0275cmp=I({type:c,selectors:[["app-my-tickets"]],standalone:!0,features:[V],decls:54,vars:7,consts:[[1,"my-tickets-page"],[1,"page-header"],[1,"header-left"],[1,"subtitle"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"filters-bar"],[1,"filter-group"],[3,"change","value"],["value","all"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[3,"value"],[1,"results-count"],[1,"tickets-card"],[1,"loading"],[1,"close-btn",3,"click"],[1,"empty-state"],["width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","M9 15l2 2 4-4"],[1,"table-responsive"],[1,"tickets-table"],[1,"clickable-row",3,"routerLink","has-notification"],[1,"tickets-cards"],[1,"ticket-card","clickable-row",3,"routerLink","has-notification"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],[1,"page-numbers"],[1,"clickable-row",3,"click","routerLink"],[1,"id-cell"],[1,"ticket-id-container"],[1,"ticket-code"],[1,"notification-badge"],[1,"title-cell"],[1,"ticket-title"],[1,"asset-name"],[1,"status-badge"],[1,"priority-badge"],[1,"date-cell"],[1,"actions-cell",3,"click"],["title","Ticket\u0131 B\u0131rak",1,"action-btn","release"],["width","14","height","14","viewBox","0 0 24 24","fill","currentColor","stroke","none"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],["title","Ticket\u0131 B\u0131rak",1,"action-btn","release",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","9 11 12 14 22 4"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"],[1,"ticket-card","clickable-row",3,"click","routerLink"],[1,"ticket-card-header"],[1,"ticket-card-title"],[1,"ticket-card-meta"],[1,"meta-row"],[1,"meta-label"],[1,"meta-value"],[1,"ticket-card-actions","actions-cell",3,"click"],[1,"page-number",3,"active"],[1,"page-number",3,"click"]],template:function(i,o){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"Ticketlar\u0131m"),n(),e(5,"p",3),a(6,"Size atanm\u0131\u015F t\xFCm ticketlar"),n()()(),_(7,q,4,1,"div",4)(8,U,2,1,"div",5),e(9,"div",6)(10,"div",7)(11,"label"),a(12,"Durum:"),n(),e(13,"select",8),p("change",function(x){return o.onStatusFilterChange(x)}),e(14,"option",9),a(15,"T\xFCm\xFC"),n(),e(16,"option",10),a(17,"A\xE7\u0131k"),n(),e(18,"option",11),a(19,"\u0130\u015Flemde"),n(),e(20,"option",12),a(21,"M\xFC\u015Fteri Bekliyor"),n(),e(22,"option",13),a(23,"\xC7\xF6z\xFCld\xFC"),n(),e(24,"option",14),a(25,"Kapal\u0131"),n()()(),e(26,"div",7)(27,"label"),a(28,"\xD6ncelik:"),n(),e(29,"select",8),p("change",function(x){return o.onPriorityFilterChange(x)}),e(30,"option",9),a(31,"T\xFCm\xFC"),n(),e(32,"option",10),a(33,"D\xFC\u015F\xFCk"),n(),e(34,"option",11),a(35,"Normal"),n(),e(36,"option",12),a(37,"Y\xFCksek"),n(),e(38,"option",13),a(39,"Kritik"),n()()(),e(40,"div",7)(41,"label"),a(42,"M\xFC\u015Fteri:"),n(),e(43,"select",8),p("change",function(x){return o.onCustomerFilterChange(x)}),e(44,"option",9),a(45,"T\xFCm\xFC"),n(),O(46,J,2,2,"option",15,w),n()(),e(48,"div",16),a(49),n()(),e(50,"div",17),_(51,Q,2,0,"div",18)(52,W,7,0)(53,st,32,3),n()()),i&2&&(r(7),u(7,o.error?7:-1),r(),u(8,o.successMessage?8:-1),r(5),k("value",o.selectedStatus),r(16),k("value",o.selectedPriority),r(14),k("value",o.selectedCustomer),r(3),v(o.customers),r(3),C(" ",o.filteredTickets.length," ticket bulundu "),r(2),u(51,o.isLoading?51:o.filteredTickets.length===0?52:53))},dependencies:[R,B,L],styles:[".my-tickets-page[_ngcontent-%COMP%]{padding:0}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:15px;margin:0}.notifications-section[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:16px;margin-bottom:20px}.notifications-section[_ngcontent-%COMP%]   .notifications-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.notifications-section[_ngcontent-%COMP%]   .notifications-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#1e293b;margin:0;display:flex;align-items:center;gap:8px}.notifications-section[_ngcontent-%COMP%]   .notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{background:#ef4444;color:#fff;padding:2px 8px;border-radius:10px;font-size:12px;font-weight:600}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:12px;background:#fff;border-radius:8px;border-left:3px solid #e2e8f0;transition:all .2s}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]{background:#eff6ff;border-left-color:#0ea5e9}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-weight:600;color:#0284c7}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{flex:1}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1e293b;margin:0 0 4px}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin:0 0 4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;gap:6px;margin-left:12px;flex-shrink:0}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e2e8f0;border:none;border-radius:4px;padding:4px 8px;cursor:pointer;font-size:12px;color:#64748b;transition:all .2s}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#cbd5e1;color:#1e293b}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .mark-read-btn[_ngcontent-%COMP%]:hover{background:#d1fae5;color:#059669}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#fecaca;color:#dc2626}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]{text-align:center;padding:8px}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;color:#0284c7;text-decoration:none;cursor:pointer}.notifications-section[_ngcontent-%COMP%]   .notifications-list[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between}.alert.alert-error[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.alert.alert-success[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a;border:1px solid #bbf7d0}.alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;color:inherit}.filters-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:20px;padding:16px 20px;background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;color:#1e293b;background:#fff;cursor:pointer}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#059669}.results-count[_ngcontent-%COMP%]{margin-left:auto;font-size:14px;color:#64748b}.tickets-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.loading[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:60px 20px;text-align:center;color:#64748b}.loading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.tickets-cards[_ngcontent-%COMP%]{display:none;padding:12px;gap:10px}.ticket-card[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:10px;background:#f8fafc;padding:12px}.ticket-card.has-notification[_ngcontent-%COMP%]{border-left:4px solid #f44336;background:#fff8f8}.ticket-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}.ticket-card-title[_ngcontent-%COMP%]{margin-bottom:8px}.ticket-card-title[_ngcontent-%COMP%]   .ticket-title[_ngcontent-%COMP%]{white-space:normal}.ticket-card-meta[_ngcontent-%COMP%]{display:grid;gap:6px}.meta-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.meta-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.meta-value[_ngcontent-%COMP%]{font-size:13px;color:#1e293b;font-weight:500;text-align:right;word-break:break-word}.ticket-card-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:flex-end}.tickets-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.tickets-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tickets-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #f1f5f9}.tickets-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;background:#f8fafc}.tickets-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#1e293b}.tickets-table[_ngcontent-%COMP%]   .clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .2s}.tickets-table[_ngcontent-%COMP%]   .clickable-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.tickets-table[_ngcontent-%COMP%]   .clickable-row.has-notification[_ngcontent-%COMP%]{background:#fff3e0;border-left:4px solid #f44336}.tickets-table[_ngcontent-%COMP%]   .clickable-row.has-notification[_ngcontent-%COMP%]:hover{background:#ffe0b2}.id-cell[_ngcontent-%COMP%]{text-align:left;white-space:nowrap}.id-cell[_ngcontent-%COMP%]   .ticket-id-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.id-cell[_ngcontent-%COMP%]   .ticket-code[_ngcontent-%COMP%]{display:inline-block;background:transparent;color:#0ea5e9;padding:0;border-radius:0;font-size:12px;font-weight:600;white-space:nowrap}.id-cell[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background:#f44336;color:#fff;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600;white-space:nowrap;animation:_ngcontent-%COMP%_blink 1s infinite;box-shadow:0 0 8px #f44336cc}.id-cell[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;animation:_ngcontent-%COMP%_bellRing .5s ease-in-out 0s infinite}.title-cell[_ngcontent-%COMP%]{max-width:300px}.title-cell[_ngcontent-%COMP%]   .ticket-title[_ngcontent-%COMP%]{display:block;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-cell[_ngcontent-%COMP%]   .asset-name[_ngcontent-%COMP%]{display:block;font-size:12px;color:#64748b;margin-top:2px}.date-cell[_ngcontent-%COMP%]{white-space:nowrap;color:#64748b;font-size:13px}.status-badge[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%]{display:inline-block;font-size:11px;font-weight:500;padding:4px 10px;border-radius:6px}.status-open[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-processing[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-resolved[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-waiting[_ngcontent-%COMP%]{background:#e0e7ff;color:#4338ca}.status-closed[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.priority-low[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.priority-normal[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.priority-high[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.priority-critical[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.actions-cell[_ngcontent-%COMP%]{width:80px}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:6px;border-radius:6px;cursor:pointer;transition:all .2s}.action-btn.release[_ngcontent-%COMP%]{color:#64748b}.action-btn.release[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#ef4444}@keyframes _ngcontent-%COMP%_blink{0%,49%{opacity:1}50%,to{opacity:.4}}@keyframes _ngcontent-%COMP%_bellRing{0%{transform:rotate(0)}15%{transform:rotate(15deg)}30%{transform:rotate(-15deg)}45%{transform:rotate(15deg)}60%{transform:rotate(-15deg)}75%{transform:rotate(15deg)}to{transform:rotate(0)}}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;padding:20px;border-top:1px solid #e5e7eb;background:#f9fafb}.pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{display:flex;gap:8px}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.pagination-controls[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   .page-number.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}@media (max-width: 768px){.filters-bar[_ngcontent-%COMP%]{flex-wrap:wrap}.results-count[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-top:10px}.table-responsive[_ngcontent-%COMP%]{display:none}.tickets-cards[_ngcontent-%COMP%]{display:grid}}"]})}}return c})();export{Pt as MyTicketsComponent};
