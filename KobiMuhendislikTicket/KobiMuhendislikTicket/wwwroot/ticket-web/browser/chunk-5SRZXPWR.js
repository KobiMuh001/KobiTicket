import{a as Q}from"./chunk-V3F3MMBH.js";import{b as j,c as G,f as H,h as Y,i as X,j as K,k as R,l as U,m as Z,r as q}from"./chunk-PRZMQGB5.js";import{a as J}from"./chunk-3F3BRH62.js";import{f as N,i as B}from"./chunk-RCMVJVUR.js";import{La as C,Na as v,Oa as A,Pa as V,Qa as k,Sa as g,Ua as F,Va as O,Wa as T,Wb as I,Xa as n,Ya as i,Z as L,Za as u,ab as M,bb as _,cb as d,fa as p,ga as f,ha as x,ia as S,ib as r,jb as h,kb as b,lb as D,nb as y,ob as P,pb as w,rb as W,tb as z,ya as s,za as E}from"./chunk-W3I5MFZP.js";var $=(o,c)=>c.id,ee=o=>["/admin/staff",o];function te(o,c){if(o&1){let e=M();n(0,"div",25),r(1),n(2,"button",28),_("click",function(){p(e);let t=d();return f(t.errorMessage="")}),r(3,"\xD7"),i()()}if(o&2){let e=d();s(),b(" ",e.errorMessage," ")}}function ne(o,c){o&1&&(n(0,"div",26),u(1,"div",29),n(2,"p"),r(3,"Personel listesi y\xFCkleniyor..."),i()())}function ie(o,c){if(o&1){let e=M();n(0,"div",30),x(),n(1,"svg",31),u(2,"path",32)(3,"circle",33)(4,"line",34)(5,"line",35),i(),S(),n(6,"h3"),r(7,"Personel Bulunamad\u0131"),i(),n(8,"p"),r(9,"Hen\xFCz kay\u0131tl\u0131 personel bulunmuyor veya arama kriterlerine uygun sonu\xE7 yok."),i(),n(10,"button",12),_("click",function(){p(e);let t=d(2);return f(t.openCreateModal())}),r(11,"\u0130lk Personeli Ekle"),i()()}}function ae(o,c){o&1&&(n(0,"span",47),r(1),i()),o&2&&(s(),h(c.assignedTickets))}function oe(o,c){o&1&&(n(0,"span",47),r(1,"0"),i())}function re(o,c){if(o&1&&(n(0,"div",57),u(1,"div",58),i(),n(2,"span",59),r(3),i()),o&2){let e=c,a=d().$implicit;s(),A("width",e.assignedTickets/a.maxConcurrentTickets*100,"%"),V("warning",e.assignedTickets>=a.maxConcurrentTickets*.8)("full",e.assignedTickets>=a.maxConcurrentTickets),s(2),D("",e.assignedTickets,"/",a.maxConcurrentTickets,"")}}function le(o,c){if(o&1&&(n(0,"span",59),r(1),i()),o&2){let e=d().$implicit;s(),b("0/",e.maxConcurrentTickets,"")}}function se(o,c){if(o&1&&(n(0,"span",60),r(1),i()),o&2){let e=c,a=d(4);k(a.getAvailabilityClass(e)),s(),b(" ",e.isAvailable?"M\xFCsait":"Dolu"," ")}}function ce(o,c){o&1&&(n(0,"span",61),r(1,"M\xFCsait"),i())}function de(o,c){if(o&1){let e=M();n(0,"tr")(1,"td")(2,"div",41)(3,"div",42),r(4),i(),n(5,"div",43)(6,"span",44),r(7),i(),n(8,"span",45),r(9),i()()()(),n(10,"td"),r(11),i(),n(12,"td")(13,"span",46),r(14),i()(),n(15,"td"),C(16,ae,2,1,"span",47)(17,oe,2,0),i(),n(18,"td"),C(19,re,4,8)(20,le,2,1),i(),n(21,"td"),C(22,se,2,3,"span",48)(23,ce,2,0),i(),n(24,"td",49)(25,"a",50),x(),n(26,"svg",51),u(27,"path",52)(28,"path",53),i()(),S(),n(29,"button",54),_("click",function(){let t=p(e).$implicit,l=d(3);return f(l.openDeleteModal(t))}),x(),n(30,"svg",51),u(31,"polyline",55)(32,"path",56),i()()()()}if(o&2){let e,a,t,l=c.$implicit,m=d(3);s(4),b(" ",l.fullName.charAt(0).toUpperCase()," "),s(3),h(l.fullName),s(2),h(l.email),s(2),h(l.department),s(2),k(m.getStatusClass(l.isActive)),s(),b(" ",l.isActive?"Aktif":"Pasif"," "),s(2),g(16,(e=m.getWorkload(l.id))?16:17,e),s(3),g(19,(a=m.getWorkload(l.id))?19:20,a),s(3),g(22,(t=m.getWorkload(l.id))?22:23,t),s(3),v("routerLink",z(11,ee,l.id))}}function me(o,c){o&1&&(n(0,"span",47),r(1),i()),o&2&&(s(),h(c.assignedTickets))}function pe(o,c){o&1&&(n(0,"span",47),r(1,"0"),i())}function fe(o,c){if(o&1&&(n(0,"span",59),r(1),i()),o&2){let e=d().$implicit;s(),D("",c.assignedTickets,"/",e.maxConcurrentTickets,"")}}function _e(o,c){if(o&1&&(n(0,"span",59),r(1),i()),o&2){let e=d().$implicit;s(),b("0/",e.maxConcurrentTickets,"")}}function ge(o,c){if(o&1&&(n(0,"span",60),r(1),i()),o&2){let e=c,a=d(4);k(a.getAvailabilityClass(e)),s(),b(" ",e.isAvailable?"M\xFCsait":"Dolu"," ")}}function ue(o,c){o&1&&(n(0,"span",61),r(1,"M\xFCsait"),i())}function Ce(o,c){if(o&1){let e=M();n(0,"div",39)(1,"div",62)(2,"div",41)(3,"div",42),r(4),i(),n(5,"div",43)(6,"span",44),r(7),i(),n(8,"span",45),r(9),i()()(),n(10,"span",46),r(11),i()(),n(12,"div",63)(13,"div",64)(14,"span",65),r(15,"Departman"),i(),n(16,"span",66),r(17),i()(),n(18,"div",64)(19,"span",65),r(20,"Atanan Ticket"),i(),C(21,me,2,1,"span",47)(22,pe,2,0),i(),n(23,"div",64)(24,"span",65),r(25,"Kapasite"),i(),C(26,fe,2,2,"span",59)(27,_e,2,1),i(),n(28,"div",64)(29,"span",65),r(30,"M\xFCsaitlik"),i(),C(31,ge,2,3,"span",48)(32,ue,2,0),i()(),n(33,"div",67)(34,"a",50),x(),n(35,"svg",51),u(36,"path",52)(37,"path",53),i()(),S(),n(38,"button",54),_("click",function(){let t=p(e).$implicit,l=d(3);return f(l.openDeleteModal(t))}),x(),n(39,"svg",51),u(40,"polyline",55)(41,"path",56),i()()()()}if(o&2){let e,a,t,l=c.$implicit,m=d(3);s(4),b(" ",l.fullName.charAt(0).toUpperCase()," "),s(3),h(l.fullName),s(2),h(l.email),s(),k(m.getStatusClass(l.isActive)),s(),b(" ",l.isActive?"Aktif":"Pasif"," "),s(6),h(l.department),s(4),g(21,(e=m.getWorkload(l.id))?21:22,e),s(5),g(26,(a=m.getWorkload(l.id))?26:27,a),s(5),g(31,(t=m.getWorkload(l.id))?31:32,t),s(3),v("routerLink",z(11,ee,l.id))}}function xe(o,c){if(o&1){let e=M();n(0,"button",73),_("click",function(){let t=p(e).$implicit,l=d(4);return f(l.goToPage(t))}),r(1),i()}if(o&2){let e=c.$implicit,a=d(4);V("active",e===a.currentPage),s(),b(" ",e," ")}}function he(o,c){if(o&1){let e=M();n(0,"div",40)(1,"button",68),_("click",function(){p(e);let t=d(3);return f(t.goToPage(t.currentPage-1))}),x(),n(2,"svg",69),u(3,"polyline",70),i()(),O(4,xe,2,3,"button",71,F),S(),n(6,"button",68),_("click",function(){p(e);let t=d(3);return f(t.goToPage(t.currentPage+1))}),x(),n(7,"svg",69),u(8,"polyline",72),i()()()}if(o&2){let e=d(3);s(),v("disabled",e.currentPage===1),s(3),T(e.getPageNumbers()),s(2),v("disabled",e.currentPage===e.totalPages)}}function be(o,c){if(o&1&&(n(0,"div",36)(1,"table",37)(2,"thead")(3,"tr")(4,"th"),r(5,"Personel"),i(),n(6,"th"),r(7,"Departman"),i(),n(8,"th"),r(9,"Durum"),i(),n(10,"th"),r(11,"Atanan Ticket"),i(),n(12,"th"),r(13,"Kapasite"),i(),n(14,"th"),r(15,"M\xFCsaitlik"),i(),n(16,"th"),r(17,"\u0130\u015Flemler"),i()()(),n(18,"tbody"),O(19,de,33,13,"tr",null,$),i()()(),n(21,"div",38),O(22,Ce,42,13,"div",39,$),i(),C(24,he,9,2,"div",40)),o&2){let e=d(2);s(19),T(e.filteredStaff),s(3),T(e.filteredStaff),s(2),g(24,e.totalPages>1?24:-1)}}function ve(o,c){if(o&1&&C(0,ie,12,0,"div",30)(1,be,25,1),o&2){let e=d();g(0,e.filteredStaff.length===0?0:1)}}function Me(o,c){if(o&1&&(n(0,"option",92),r(1),i()),o&2){let e=c.$implicit;v("value",e.id),s(),h(e.label)}}function Se(o,c){o&1&&u(0,"span",98)}function ye(o,c){if(o&1){let e=M();n(0,"div",74),_("click",function(){p(e);let t=d();return f(t.closeCreateModal())}),n(1,"div",75),_("click",function(t){return p(e),f(t.stopPropagation())}),n(2,"div",76)(3,"h2"),r(4,"Yeni Personel Ekle"),i(),n(5,"button",77),_("click",function(){p(e);let t=d();return f(t.closeCreateModal())}),r(6,"\xD7"),i()(),n(7,"div",78)(8,"div",79)(9,"label",80),r(10,"Ad Soyad *"),i(),n(11,"input",81),w("ngModelChange",function(t){p(e);let l=d();return P(l.newStaff.fullName,t)||(l.newStaff.fullName=t),f(t)}),i()(),n(12,"div",79)(13,"label",82),r(14,"E-posta *"),i(),n(15,"input",83),w("ngModelChange",function(t){p(e);let l=d();return P(l.newStaff.email,t)||(l.newStaff.email=t),f(t)}),i()(),n(16,"div",79)(17,"label",84),r(18,"\u015Eifre *"),i(),n(19,"input",85),w("ngModelChange",function(t){p(e);let l=d();return P(l.newStaff.password,t)||(l.newStaff.password=t),f(t)}),i(),n(20,"span",86),r(21,"Personel bu \u015Fifre ile sisteme giri\u015F yapacak"),i()(),n(22,"div",87)(23,"div",79)(24,"label",88),r(25,"Telefon"),i(),n(26,"input",89),_("input",function(t){p(e);let l=d();return f(l.formatPhoneNumber(t))}),i()(),n(27,"div",79)(28,"label",90),r(29,"Departman"),i(),n(30,"select",91),w("ngModelChange",function(t){p(e);let l=d();return P(l.newStaff.departmentId,t)||(l.newStaff.departmentId=t),f(t)}),O(31,Me,2,2,"option",92,F),i()()(),n(33,"div",79)(34,"label",93),r(35,"Maksimum E\u015Fzamanl\u0131 Ticket"),i(),n(36,"input",94),w("ngModelChange",function(t){p(e);let l=d();return P(l.newStaff.maxConcurrentTickets,t)||(l.newStaff.maxConcurrentTickets=t),f(t)}),i(),n(37,"span",86),r(38,"Bu personel ayn\u0131 anda en fazla ka\xE7 ticket'a atanabilir?"),i()()(),n(39,"div",95)(40,"button",96),_("click",function(){p(e);let t=d();return f(t.closeCreateModal())}),r(41,"\u0130ptal"),i(),n(42,"button",97),_("click",function(){p(e);let t=d();return f(t.createStaff())}),C(43,Se,1,0,"span",98),r(44," Kaydet "),i()()()()}if(o&2){let e=d();s(11),y("ngModel",e.newStaff.fullName),s(4),y("ngModel",e.newStaff.email),s(4),y("ngModel",e.newStaff.password),s(7),v("value",e.newStaff.phone),s(4),y("ngModel",e.newStaff.departmentId),s(),T(e.departmentOptions),s(5),y("ngModel",e.newStaff.maxConcurrentTickets),s(6),v("disabled",e.isSubmitting),s(),g(43,e.isSubmitting?43:-1)}}function Pe(o,c){o&1&&u(0,"span",98)}function we(o,c){if(o&1){let e=M();n(0,"div",74),_("click",function(){p(e);let t=d();return f(t.closeDeleteModal())}),n(1,"div",99),_("click",function(t){return p(e),f(t.stopPropagation())}),n(2,"div",76)(3,"h2"),r(4,"Personeli Sil"),i(),n(5,"button",77),_("click",function(){p(e);let t=d();return f(t.closeDeleteModal())}),r(6,"\xD7"),i()(),n(7,"div",78)(8,"p",100)(9,"strong"),r(10),i(),r(11," adl\u0131 personeli silmek istedi\u011Finize emin misiniz? "),i(),n(12,"p",101),r(13,"Bu i\u015Flem geri al\u0131namaz."),i()(),n(14,"div",95)(15,"button",96),_("click",function(){p(e);let t=d();return f(t.closeDeleteModal())}),r(16,"\u0130ptal"),i(),n(17,"button",102),_("click",function(){p(e);let t=d();return f(t.confirmDelete())}),C(18,Pe,1,0,"span",98),r(19," Sil "),i()()()()}if(o&2){let e=d();s(10),h(e.staffToDelete==null?null:e.staffToDelete.fullName),s(7),v("disabled",e.isSubmitting),s(),g(18,e.isSubmitting?18:-1)}}var Le=(()=>{class o{constructor(e,a){this.staffService=e,this.paramSvc=a,this.staffList=[],this.workloads=[],this.filteredStaff=[],this.isLoading=!0,this.errorMessage="",this.searchTerm="",this.activeFilter="all",this.showCreateModal=!1,this.showDeleteModal=!1,this.staffToDelete=null,this.isSubmitting=!1,this.newStaff={fullName:"",email:"",password:"",phone:"",departmentId:1,maxConcurrentTickets:10},this.defaultMaxConcurrentTickets=10,this.departmentOptions=[{id:1,label:"Teknik Destek"},{id:2,label:"Sat\u0131\u015F"},{id:3,label:"Muhasebe"},{id:4,label:"Y\xF6netim"},{id:5,label:"Di\u011Fer"}],this.currentPage=1,this.itemsPerPage=10,this.totalPages=1}ngOnInit(){this.loadStaff(),this.loadWorkloads(),this.loadDefaultMaxConcurrentTickets(),this.loadDepartments()}loadDepartments(){this.paramSvc.getByGroup("Department").subscribe({next:e=>{let a=e?.data||e||[];if(Array.isArray(a)&&a.length){this.departmentOptions=a.map(t=>({id:Number(t.id??t.key??0)||0,label:(t.value??t.description??t.key??String(t.id)).toString()}));return}this.paramSvc.getByGroup("Departments").subscribe({next:t=>{let l=t?.data||t||[];Array.isArray(l)&&l.length&&(this.departmentOptions=l.map(m=>({id:Number(m.id??m.key??0)||0,label:(m.value??m.description??m.key??String(m.id)).toString()})))},error:()=>{}})},error:()=>{}})}loadDefaultMaxConcurrentTickets(){this.paramSvc.getByGroup("General").subscribe({next:e=>{let a=e?.data?.data||e?.data||e||[],l=(Array.isArray(a)?a:[]).find(m=>(m.key||m.Key||"").toLowerCase()==="defaultticketlimit".toLowerCase());if(l&&l.value!=null){let m=Number(l.value);!Number.isNaN(m)&&m>0&&(this.defaultMaxConcurrentTickets=m)}},error:()=>{}})}loadStaff(){this.isLoading=!0,this.staffService.getAllStaff().subscribe({next:e=>{this.staffList=e.data||[],this.applyFilter(),this.isLoading=!1},error:()=>{this.errorMessage="Personel listesi y\xFCklenirken bir hata olu\u015Ftu.",this.isLoading=!1}})}loadWorkloads(){this.staffService.getStaffWorkloads().subscribe({next:e=>{this.workloads=e.data||[]},error:()=>{}})}getWorkload(e){let a=typeof e=="number"?e:Number(e);return this.workloads.find(t=>Number(t.id??0)===a)}applyFilter(){let e=this.staffList;if(this.activeFilter==="active"?e=e.filter(t=>t.isActive):this.activeFilter==="inactive"&&(e=e.filter(t=>!t.isActive)),this.searchTerm){let t=this.searchTerm.toLowerCase();e=e.filter(l=>l.fullName.toLowerCase().includes(t)||l.email.toLowerCase().includes(t)||l.department.toLowerCase().includes(t))}this.totalPages=Math.ceil(e.length/this.itemsPerPage);let a=(this.currentPage-1)*this.itemsPerPage;this.filteredStaff=e.slice(a,a+this.itemsPerPage)}onSearch(){this.currentPage=1,this.applyFilter()}onFilterChange(){this.currentPage=1,this.applyFilter()}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.applyFilter())}getPageNumbers(){let e=[],t=Math.max(1,this.currentPage-Math.floor(2.5)),l=Math.min(this.totalPages,t+5-1);l-t+1<5&&(t=Math.max(1,l-5+1));for(let m=t;m<=l;m++)e.push(m);return e}openCreateModal(){this.newStaff={fullName:"",email:"",password:"",phone:"",departmentId:this.departmentOptions&&this.departmentOptions.length?this.departmentOptions[0].id:1,maxConcurrentTickets:this.defaultMaxConcurrentTickets},this.showCreateModal=!0}closeCreateModal(){this.showCreateModal=!1}formatPhoneNumber(e){let a=e.target.value.replace(/\D/g,"");if(a.length>0){a.startsWith("0")?a=a.substring(0,11):a="0"+a.substring(0,10);let t="";a.length>0&&(t+=a.substring(0,1)),a.length>1&&(t+=" ("+a.substring(1,4)),a.length>4&&(t+=") "+a.substring(4,7)),a.length>7&&(t+=" "+a.substring(7,9)),a.length>9&&(t+=" "+a.substring(9,11)),this.newStaff.phone=t}else this.newStaff.phone=""}createStaff(){if(!this.newStaff.fullName||!this.newStaff.email||!this.newStaff.password){this.errorMessage="L\xFCtfen ad soyad, e-posta ve \u015Fifre alanlar\u0131n\u0131 doldurun.";return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.newStaff.email)){this.errorMessage="L\xFCtfen ge\xE7erli bir e-posta adresi girin.";return}if(this.newStaff.password.length<6){this.errorMessage="\u015Eifre en az 6 karakter olmal\u0131d\u0131r.";return}this.isSubmitting=!0,this.staffService.createStaff(this.newStaff).subscribe({next:()=>{this.showCreateModal=!1,this.loadStaff(),this.loadWorkloads(),this.isSubmitting=!1},error:a=>{this.errorMessage=a.error?.message||"Personel olu\u015Fturulurken bir hata olu\u015Ftu.",this.isSubmitting=!1}})}openDeleteModal(e){this.staffToDelete=e,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.staffToDelete=null}confirmDelete(){this.staffToDelete&&(this.isSubmitting=!0,this.staffService.deleteStaff(this.staffToDelete.id).subscribe({next:()=>{this.showDeleteModal=!1,this.staffToDelete=null,this.loadStaff(),this.loadWorkloads(),this.isSubmitting=!1},error:e=>{this.errorMessage=e.error?.message||"Personel silinirken bir hata olu\u015Ftu.",this.isSubmitting=!1}}))}getStatusClass(e){return e?"status-active":"status-inactive"}getAvailabilityClass(e){return e?e.isAvailable?"available":"busy":""}static{this.\u0275fac=function(a){return new(a||o)(E(Q),E(J))}}static{this.\u0275cmp=L({type:o,selectors:[["app-staff"]],standalone:!0,features:[W],decls:39,vars:6,consts:[[1,"staff-page"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["title","Yenile",1,"btn","btn-secondary",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 2v6h-6"],["d","M3 12a9 9 0 0 1 15-6.7L21 8"],["d","M3 22v-6h6"],["d","M21 12a9 9 0 0 1-15 6.7L3 16"],[1,"btn","btn-primary",3,"click"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"filters-section"],[1,"search-box"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Ad, e-posta veya departman ara...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-group"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","active"],["value","inactive"],[1,"alert","alert-error"],[1,"loading-container"],[1,"modal-overlay"],[1,"alert-close",3,"click"],[1,"spinner"],[1,"empty-state"],["width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],[1,"table-container"],[1,"data-table"],[1,"staff-cards"],[1,"staff-card"],[1,"pagination"],[1,"staff-info"],[1,"staff-avatar"],[1,"staff-details"],[1,"staff-name"],[1,"staff-email"],[1,"status-badge"],[1,"ticket-count"],[1,"availability-badge",3,"class"],[1,"actions"],["title","D\xFCzenle",1,"btn-icon",3,"routerLink"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["title","Sil",1,"btn-icon","btn-danger",3,"click"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],[1,"capacity-bar"],[1,"capacity-fill"],[1,"capacity-text"],[1,"availability-badge"],[1,"availability-badge","available"],[1,"staff-card-header"],[1,"staff-card-meta"],[1,"meta-row"],[1,"meta-label"],[1,"meta-value"],[1,"staff-card-actions","actions"],[1,"page-btn",3,"click","disabled"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","15 18 9 12 15 6"],[1,"page-btn",3,"active"],["points","9 18 15 12 9 6"],[1,"page-btn",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","fullName"],["type","text","id","fullName","placeholder","\xD6r: Ahmet Y\u0131lmaz",1,"form-input",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","placeholder","\xD6r: ahmet@kobimuhendislik.com",1,"form-input",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","placeholder","Personel giri\u015F \u015Fifresi",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-hint"],[1,"form-row"],["for","phone"],["type","text","id","phone","placeholder","0 (5XX) XXX XX XX",1,"form-input",3,"input","value"],["for","department"],["id","department",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["for","maxTickets"],["type","number","id","maxTickets","min","1","max","50",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"spinner-small"],[1,"modal","modal-sm",3,"click"],[1,"confirm-message"],[1,"warning-text"],[1,"btn","btn-danger",3,"click","disabled"]],template:function(a,t){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"Personel"),i(),n(5,"p",4),r(6,"Teknik destek personelini y\xF6netin"),i()(),n(7,"div",5)(8,"button",6),_("click",function(){return t.loadStaff(),t.loadWorkloads()}),x(),n(9,"svg",7),u(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11),i(),r(14," Yenile "),i(),S(),n(15,"button",12),_("click",function(){return t.openCreateModal()}),x(),n(16,"svg",7),u(17,"line",13)(18,"line",14),i(),r(19," Yeni Personel "),i()()(),S(),n(20,"div",15)(21,"div",16),x(),n(22,"svg",7),u(23,"circle",17)(24,"path",18),i(),S(),n(25,"input",19),w("ngModelChange",function(m){return P(t.searchTerm,m)||(t.searchTerm=m),m}),_("input",function(){return t.onSearch()}),i()(),n(26,"div",20)(27,"select",21),w("ngModelChange",function(m){return P(t.activeFilter,m)||(t.activeFilter=m),m}),_("change",function(){return t.onFilterChange()}),n(28,"option",22),r(29,"T\xFCm\xFC"),i(),n(30,"option",23),r(31,"Aktif"),i(),n(32,"option",24),r(33,"Pasif"),i()()()(),C(34,te,4,1,"div",25)(35,ne,4,0,"div",26)(36,ve,2,1),i(),C(37,ye,45,8,"div",27)(38,we,20,3,"div",27)),a&2&&(s(25),y("ngModel",t.searchTerm),s(2),y("ngModel",t.activeFilter),s(7),g(34,t.errorMessage?34:-1),s(),g(35,t.isLoading?35:36),s(2),g(37,t.showCreateModal?37:-1),s(),g(38,t.showDeleteModal?38:-1))},dependencies:[I,B,N,q,K,R,j,Y,X,G,Z,U,H],styles:[".staff-page[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.page-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1.5rem;gap:1rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-primary);margin:0 0 .25rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border-radius:var(--radius-md);font-weight:500;font-size:.875rem;cursor:pointer;transition:all var(--transition-fast);border:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.btn-danger[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#b91c1c}.btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.filters-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:var(--bg-secondary);border-radius:var(--radius-lg);padding:1.25rem;margin-bottom:1.5rem;box-shadow:var(--shadow-sm);flex-wrap:wrap}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);flex:1;min-width:250px}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-light);flex-shrink:0}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;border:none;background:none;font-size:.875rem;color:var(--text-primary)}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-light)}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.filter-select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-primary);color:var(--text-primary);font-size:.875rem;cursor:pointer}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-radius:var(--radius-md);margin-bottom:1rem}.alert-error[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.alert[_ngcontent-%COMP%]   .alert-close[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;font-size:1.25rem;cursor:pointer;color:inherit;opacity:.7}.alert[_ngcontent-%COMP%]   .alert-close[_ngcontent-%COMP%]:hover{opacity:1}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:var(--bg-secondary);border-radius:var(--radius-lg)}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--border-color);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:var(--bg-secondary);border-radius:var(--radius-lg);text-align:center}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-light);margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-primary);margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 1.5rem}.table-container[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.staff-cards[_ngcontent-%COMP%]{display:none;gap:.75rem;padding:1rem}.staff-card[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-primary);padding:.875rem}.staff-card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.75rem;margin-bottom:.75rem}.staff-card-meta[_ngcontent-%COMP%]{display:grid;gap:.45rem}.meta-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem}.meta-label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem}.meta-value[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.8125rem;font-weight:500;text-align:right;word-break:break-word}.staff-card-actions[_ngcontent-%COMP%]{margin-top:.75rem;justify-content:flex-end}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.25rem;text-align:left}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);background:var(--bg-primary);white-space:nowrap}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-primary);border-bottom:1px solid var(--border-light);vertical-align:middle}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background var(--transition-fast)}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--bg-primary)}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.staff-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.staff-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--primary-light);color:var(--primary-color);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1rem;flex-shrink:0}.staff-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.staff-details[_ngcontent-%COMP%]   .staff-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.staff-details[_ngcontent-%COMP%]   .staff-email[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:500}.status-badge.status-active[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-badge.status-inactive[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.ticket-count[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.capacity-bar[_ngcontent-%COMP%]{width:60px;height:6px;background:var(--border-color);border-radius:3px;overflow:hidden;display:inline-block;margin-right:.5rem}.capacity-bar[_ngcontent-%COMP%]   .capacity-fill[_ngcontent-%COMP%]{height:100%;background:var(--primary-color);border-radius:3px;transition:width .3s ease}.capacity-bar[_ngcontent-%COMP%]   .capacity-fill.warning[_ngcontent-%COMP%]{background:#f59e0b}.capacity-bar[_ngcontent-%COMP%]   .capacity-fill.full[_ngcontent-%COMP%]{background:#dc2626}.capacity-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.availability-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:500}.availability-badge.available[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.availability-badge.busy[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast);text-decoration:none}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--primary-light);border-color:var(--primary-color);color:var(--primary-color)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#dc2626;color:#dc2626}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:var(--bg-secondary);border-radius:0 0 var(--radius-lg) var(--radius-lg);border-top:1px solid var(--border-light)}.page-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast);font-size:.875rem}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled):not(.active){background:var(--primary-light);border-color:var(--primary-color);color:var(--primary-color)}.page-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease}.modal[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:var(--radius-lg);width:100%;max-width:480px;box-shadow:var(--shadow-lg);animation:_ngcontent-%COMP%_slideUp .3s ease}.modal.modal-sm[_ngcontent-%COMP%]{max-width:400px}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid var(--border-light)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:var(--text-primary)}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary);line-height:1}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-body[_ngcontent-%COMP%]   .confirm-message[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--text-primary)}.modal-body[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid var(--border-light)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--text-primary);margin-bottom:.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9375rem;color:var(--text-primary);background:var(--bg-primary);transition:border-color var(--transition-fast)}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.form-input[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder{color:var(--text-light)}.form-select[_ngcontent-%COMP%]{cursor:pointer}.form-hint[_ngcontent-%COMP%]{display:block;margin-top:.375rem;font-size:.75rem;color:var(--text-light)}.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite;display:inline-block}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.filters-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-box[_ngcontent-%COMP%]{min-width:100%}.table-container[_ngcontent-%COMP%]{display:none}.staff-cards[_ngcontent-%COMP%]{display:grid}.staff-card[_ngcontent-%COMP%]   .staff-avatar[_ngcontent-%COMP%]{width:36px;height:36px;font-size:.875rem}}"]})}}return o})();export{Le as StaffComponent};
